<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script language="JavaScript" src="../js/libs/firebase.js"></script>
    <script language="JavaScript" src="../js/libs/firebase-simple-login.js"></script>
    <script language="JavaScript">
        var chatRef = new Firebase("https://wait-test.firebaseio.com/");
        var auth = new FirebaseSimpleLogin(chatRef, function(error, user)
        {
            if(error)
            {
                // an error occurred while attempting login
                //Error Code	Description
                /*
                    Error Code	Description
                    AUTHENTICATION_DISABLED	 The specified authentication type is not enabled for this Firebase.
                    EMAIL_TAKEN	The specified email address is already in use.
                    INVALID_EMAIL	The specified email address is incorrect.
                    INVALID_FIREBASE	Invalid Firebase specified.
                    INVALID_ORIGIN	 Unauthorized request origin, please check application configuration.
                    INVALID_PASSWORD	The specified password is incorrect.
                    INVALID_USER	The specified user does not exist.
                    UNKNOWN_ERROR	An unknown error occurred. Please contact support@firebase.com.
                    USER_DENIED	User denied authentication request.
                */
                console.log("-------------error begin--------------");
                for(name in error)
                {
                    console.log(name + ": " + error[name]);
                }
                console.log("Error: code=" + error.code + ", message=" + error.message);
                console.log("-------------error end--------------");
            }
            else if(user)
            {
                // user authenticated with Firebase
//                console.log("User ID: " + user.id + ", Provider: " + user.provider
//                        + ", UID: " + user.uid + ", email: " + user.email
//                        + ", firebaseAuthToken: " + user.firebaseAuthToken + ", md5_hash:" + user.md5_hash);
                console.log("-------------user info begin--------------");
                for(name in user)
                {
                    console.log(name + ": " + user[name]);
                }
                console.log("-------------user info end--------------");
            }
            else
            {
                // user id logged out
                console.log("User logged out.");
            }
        });
        // Create a email user
        var email = "773108248@qq.com";
        var password = "1234";
//        auth.createUser(email, password, function(error, user)
//        {
//            if(error)
//            {
//                console.log("Error: code=" + error.code + ", message=" + error.message);
//            }
//            else
//            {
//                console.log("User Id: " + user.id + ", Email: " + user.email);
//            }
//        });

        // User login
        auth.login
        (
            //provider
            "password",
            //rememberMe browser session store 30 days.
            {email: email, password: password, rememberMe: true}
        );

        // User logged out
//        auth.logout();
        // User change password
//        auth.changePassword(email, password, "1234", function(error, success)
//        {
//            if(error)
//            {
//                console.log("Error: code=" + error.code + ", message=" + error.message);
//            }
//            else
//            {
//                console.log("Password change successfully");
//            }
//        });
    </script>
</head>
<body>

</body>
</html>